@layout.app({ title: 'devgoraebap | ê²Œì‹œë¬¼', dataController: 'feed-query' })
  {{-- ìƒë‹¨ ì •ë ¬, í•„í„° ì˜ì—­ --}}
  @!component('pages/feed/posts/_query_form')

  {{-- í•˜ë‹¨ ê²Œì‹œë¬¼ ë¦¬ìŠ¤íŠ¸ ì˜ì—­ --}}
  <div id="feedPostsFrame">
    @if(postsData?.items?.length > 0)
      @!component('pages/feed/posts/_list', { postsData })
    @else
      <div class="flex justify-center">
        <div class="flex flex-col items-center gap-4">
          <img src="/public/images/empty01.svg" class="w-lg" />
          <span>ì•„ì§ ê²Œì‹œë¬¼ì´ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ì–´ìš”.</span>
        </div>
      </div>
    @endif
  </div>

  @slot('subContent')
    <div class="space-y-4">
      {{-- íƒœê·¸ í´ë¼ìš°ë“œ --}}
      <div class="flex flex-col gap-4">
        <h2 class="text-lg font-bold">
          ğŸ·ï¸ íƒœê·¸ í´ë¼ìš°ë“œ
        </h2>
        @if(tags?.length > 0)
          @!component('pages/feed/tags/_list', { tags })
        @else
          <div class="bg-base-200 text-center rounded-xl p-4 text-xs">
            Not found tags
          </div>
        @endif
      </div>

      {{-- íŒ¨ì¹˜ë…¸íŠ¸ --}}
      <div class="flex flex-col gap-4">
        <h2 class="text-lg font-bold">
          ğŸ‘¾ ìµœê·¼ íŒ¨ì¹˜ë…¸íŠ¸
        </h2>
        @if(patchNote)
          <div>
            <a href="/patch-notes/{{ patchNote?.slug }}" data-turbo-prefetch="false" class="block group">
              @if(patchNote && patchNote.getImage && patchNote.getImage('thumbnail'))
                <div class="mb-3 w-full aspect-[5/3] overflow-hidden rounded-xl border border-base-300">
                  @!uikit.image({
                        url: cloudImageUrl(patchNote.getImage('thumbnail').url),
                        dominantColor: patchNote.getImage('thumbnail').dominantColor,
                        width: 'w-full',
                        height: 'h-full object-cover'
                  })
                </div>
              @endif
              <h3 class="text-sm font-semibold leading-tight mb-1 group-hover:text-primary transition-colors line-clamp-2">
                {{ patchNote.title }}
              </h3>
              <p class="text-xs text-base-content/70 mb-2 line-clamp-2">
                {{ patchNote.summary }}
              </p>
              <div class="flex justify-end items-center text-xs text-base-content/50">
                <span>{{ formatDate(patchNote.publishedAt) }}</span>
              </div>
            </a>
          </div>
        @else
          <div class="bg-base-200 text-center rounded-xl p-4 text-xs">
            Not found patch notes
          </div>
        @endif
      </div>
    </div>
  @end
@end
